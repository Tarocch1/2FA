{"version":3,"sources":["components/authenticator.tsx","components/authenticators.tsx","components/calc.tsx","components/encrypt.tsx","App.tsx","index.tsx"],"names":["Authenticator","props","_useState","useState","_useState2","Object","slicedToArray","key","setKey","_useState3","_useState4","token","setToken","_useState5","Date","now","_useState6","deadline","setDeadline","calc","length","authenticator","generate","timeRemaining","useEffect","privateKey","decrypt","Base64","decode","code","react_default","a","createElement","col_default","span","lg","row_default","type","divider_default","statistic_default","value","title","valueStyle","fontSize","justify","groupSeparator","suffix","button_default","size","onClick","copy","message","success","icon_default","Countdown","format","onFinish","Authenticators","privatePem","setPrivate","disable","setDisable","_useState7","_useState8","codes","setCodes","input_default","TextArea","style","marginBottom","resize","placeholder","readOnly","autosize","minRows","maxRows","gutter","upload_default","beforeUpload","file","reader","FileReader","onload","e","pki","privateKeyFromPem","target","result","readAsText","showUploadList","disabled","axios","get","then","Response","data","empty_default","map","item","index","Calc","onCalcHandle","flexGrow","allowClear","onChange","event","Encrypt","publicKey","publicPem","setPublic","clearText","setClear","_useState9","_useState10","ciphertext","setCipher","publicKeyFromPem","encode","encrypt","Title","Typography","tabList","tab","contentList","authenticators","components_calc","App","level","padding","md","xl","card_default","activeTabKey","onTabChange","ReactDOM","render","locale_provider_default","locale","zh_CN","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9b890c09.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Button from 'antd/lib/button';\nimport Icon from 'antd/lib/icon';\nimport Statistic from 'antd/lib/statistic';\nimport message from 'antd/lib/message';\nimport Divider from 'antd/lib/divider';\nimport { pki } from 'node-forge';\nimport { Base64 } from 'js-base64';\nimport { authenticator } from 'otplib';\nimport copy from 'copy-to-clipboard';\nimport { ICode } from './authenticators';\n\ninterface IProps {\n  code: ICode;\n  privateKey: pki.rsa.PrivateKey;\n}\n\nfunction Authenticator(props: IProps) {\n  const [key, setKey] = useState('');\n  const [token, setToken] = useState('000000');\n  const [deadline, setDeadline] = useState(Date.now());\n  useEffect(() => {\n    setKey(props.privateKey.decrypt(Base64.decode(props.code.code)));\n  }, []);\n  useEffect(calc, [key]);\n  function calc() {\n    if (key.length !== 0) {\n      setToken(authenticator.generate(key));\n      setDeadline(Date.now() + authenticator.timeRemaining() * 1000);\n    }\n  }\n  function onCopyHandle() {\n    copy(token);\n    message.success('复制成功')\n  }\n  return (\n    <Col span={24} lg={12}>\n      <Row type={'flex'}>\n        <Divider />\n        <Col span={8}>\n          <Statistic value={props.code.title} valueStyle={{fontSize: 20}} />\n        </Col>\n        <Col span={8}>\n          <Row type={'flex'} justify={'center'}>\n            <Col>\n              <Statistic value={token} groupSeparator={''} suffix={<Button size={'small'} type={'link'} onClick={onCopyHandle}><Icon type={'copy'} /></Button>} valueStyle={{fontSize: 20}} />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={8}>\n          <Row type={'flex'} justify={'end'}>\n            <Col>\n              <Statistic.Countdown value={deadline} format={'s 秒'} onFinish={calc} valueStyle={{fontSize: 20}} />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Col>\n  );\n}\n\nexport default Authenticator;\n","import React, { useState } from 'react';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Input from 'antd/lib/input';\nimport Upload from 'antd/lib/upload';\nimport Button from 'antd/lib/button';\nimport Icon from 'antd/lib/icon';\nimport Empty from 'antd/lib/empty';\nimport { pki } from 'node-forge';\nimport axios from 'axios';\nimport Authenticator from './authenticator';\n\nexport interface ICode {\n  title: string;\n  code: string;\n}\n\nfunction Authenticators() {\n  const [privateKey, setKey] = useState<pki.PrivateKey>();\n  const [privatePem, setPrivate] = useState('');\n  const [disable, setDisable] = useState(true);\n  const [codes, setCodes] = useState<ICode[]>([]);\n  function priview(file: File): boolean {\n    const reader = new FileReader();\n    reader.onload = function(e: any) {\n      setKey(pki.privateKeyFromPem(e.target.result));\n      setPrivate(e.target.result);\n      setDisable(e.target.result.length === 0);\n    };\n    reader.readAsText(file);\n    return false;\n  }\n  function onClickHandle() {\n    axios.get('./code.json').then(Response => {\n      setCodes(Response.data);\n    });\n  }\n  return (\n      <div>\n      <Row type={'flex'} justify={'center'}>\n        <Col span={24} lg={12}>\n          <Input.TextArea style={{marginBottom: 8, resize: 'none'}} placeholder={'私钥'} readOnly autosize={{minRows: 10, maxRows: 10}} value={privatePem} />\n        </Col>\n      </Row>\n      <Row type={'flex'} justify={'center'} gutter={8}>\n        <Col>\n          <Upload\n            beforeUpload={priview}\n            showUploadList={false}\n          >\n            <Button style={{marginBottom: 16}} type={'primary'}><Icon type={'file'} />{'选择私钥文件'}</Button>\n          </Upload>\n        </Col>\n        <Col>\n          <Button style={{marginBottom: 16}} disabled={disable} type={'primary'} onClick={onClickHandle}><Icon type={'safety'} />{'认证'}</Button>\n        </Col>\n      </Row>\n      {codes.length === 0 && <Empty />}\n      <Row type={'flex'} gutter={16}>\n        {codes.map((item, index) => <Authenticator key={index} code={item} privateKey={privateKey as pki.rsa.PrivateKey} />)}\n      </Row>\n    </div>\n  );\n}\n\nexport default Authenticators;\n","import React, { useState } from 'react';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Input from 'antd/lib/input';\nimport Button from 'antd/lib/button';\nimport Icon from 'antd/lib/icon';\nimport Statistic from 'antd/lib/statistic';\nimport message from 'antd/lib/message';\nimport { authenticator } from 'otplib';\nimport copy from 'copy-to-clipboard';\n\nfunction Calc() {\n  const [key, setKey] = useState('');\n  const [disable, setDisable] = useState(true);\n  const [token, setToken] = useState('000000');\n  const [deadline, setDeadline] = useState(Date.now());\n  function onChangeHandle(event: React.ChangeEvent<HTMLInputElement>) {\n    setKey(event.target.value);\n    setDisable(event.target.value.length === 0);\n    if (event.target.value.length === 0) {\n      setToken('000000');\n      setDeadline(Date.now());\n    }\n  }\n  function onCalcHandle() {\n    if (key.length !== 0) {\n      setToken(authenticator.generate(key));\n      setDeadline(Date.now() + authenticator.timeRemaining() * 1000);\n    }\n  }\n  function onCopyHandle() {\n    copy(token);\n    message.success('复制成功')\n  }\n  return (\n    <div>\n      <Row style={{marginBottom: 16}} type={'flex'} gutter={8}>\n        <Col style={{flexGrow: 1}}>\n          <Input placeholder={'密钥'} allowClear onChange={e => onChangeHandle(e)} />\n        </Col>\n        <Col>\n          <Button type={'primary'} disabled={disable} onClick={onCalcHandle}>{'计算'}</Button>\n        </Col>\n      </Row>\n      <Row type={'flex'} gutter={16}>\n        <Col span={12}>\n          <Row type={'flex'} justify={'end'}>\n            <Col>\n              <Statistic value={token} groupSeparator={''} suffix={<Button size={'small'} type={'link'} onClick={onCopyHandle}><Icon type={'copy'} /></Button>} valueStyle={{fontSize: 20}} />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={12}>\n          <Statistic.Countdown value={deadline} format={'s 秒'} onFinish={onCalcHandle} valueStyle={{fontSize: 20}} />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default Calc;\n","import React, { useState } from 'react';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Input from 'antd/lib/input';\nimport Upload from 'antd/lib/upload';\nimport Button from 'antd/lib/button';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport { pki } from 'node-forge';\nimport { Base64 } from 'js-base64';\nimport copy from 'copy-to-clipboard';\n\nfunction Encrypt() {\n  const [publicKey, setKey] = useState<pki.PublicKey>();\n  const [publicPem, setPublic] = useState('');\n  const [clearText, setClear] = useState('');\n  const [disable, setDisable] = useState(true);\n  const [ciphertext, setCipher] = useState('');\n  function priview(file: File): boolean {\n    const reader = new FileReader();\n    reader.onload = function(e: any) {\n      setKey(pki.publicKeyFromPem(e.target.result));\n      setPublic(e.target.result);\n      setDisable(e.target.result.length === 0 || clearText.length === 0);\n    };\n    reader.readAsText(file);\n    return false;\n  }\n  function onChangeHandle(event: React.ChangeEvent<HTMLInputElement>) {\n    setClear(event.target.value);\n    setDisable(event.target.value.length === 0 || publicPem.length === 0);\n  }\n  function onClickHandle() {\n    setCipher(Base64.encode((publicKey as pki.rsa.PublicKey).encrypt(clearText)));\n  }\n  function onCopyHandle() {\n    copy(ciphertext);\n    message.success('复制成功');\n  }\n  return (\n    <div>\n      <Row type={'flex'} gutter={8}>\n        <Col span={24} lg={12}>\n          <Row type={'flex'} justify={'center'}>\n            <Col span={24}>\n              <Input.TextArea style={{marginBottom: 8, resize: 'none'}} placeholder={'公钥'} readOnly autosize={{minRows: 10, maxRows: 10}} value={publicPem} />\n            </Col>\n            <Col>\n              <Upload\n                beforeUpload={priview}\n                showUploadList={false}\n              >\n                <Button style={{marginBottom: 8}} type={'primary'}><Icon type={'file'} />{'选择公钥文件'}</Button>\n              </Upload>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24} lg={12}>\n          <Row style={{marginBottom: 10}} type={'flex'} gutter={8}>\n            <Col style={{flexGrow: 1}}>\n              <Input placeholder={'明文'} allowClear onChange={onChangeHandle} />\n            </Col>\n            <Col>\n              <Button type={'primary'} disabled={disable} onClick={onClickHandle}>{'加密'}</Button>\n            </Col>\n          </Row>\n          <Row type={'flex'} justify={'center'}>\n            <Col span={24}>\n              <Input.TextArea style={{marginBottom: 8, resize: 'none'}} placeholder={'密文'} readOnly autosize={{minRows: 8, maxRows: 8}} value={ciphertext} />\n            </Col>\n            <Col>\n              <Button type={'primary'} onClick={onCopyHandle}><Icon type={'copy'} />{'复制'}</Button>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default Encrypt;\n","import React, { useState } from 'react';\nimport Row from 'antd/lib/row';\nimport Col from 'antd/lib/col';\nimport Typography from 'antd/lib/typography';\nimport Card from 'antd/lib/card';\nimport Icon from 'antd/lib/icon';\nimport Authenticators from './components/authenticators';\nimport Calc from './components/calc';\nimport Encrypt from './components/encrypt';\n\nconst { Title } = Typography;\n\nconst tabList = [\n  {\n    key: 'authenticators',\n    tab: <span><Icon type={'idcard'} />认证器</span>,\n  },\n  {\n    key: 'calc',\n    tab: <span><Icon type={'calculator'} />计算器</span>,\n  },\n  {\n    key: 'encrypt',\n    tab: <span><Icon type={'lock'} />加密</span>,\n  }\n];\nconst contentList = {\n  authenticators: <Authenticators />,\n  calc: <Calc />,\n  encrypt: <Encrypt />,\n};\n\nfunction App() {\n  const [key, setKey] = useState('authenticators');\n  return (\n    <div>\n      <Row type={'flex'} justify={'center'}>\n        <Col>\n          <Title level={2}>{'2FA认证工具'}</Title>\n        </Col>\n      </Row>\n      <Row type={'flex'} justify={'center'}>\n        <Col style={{padding: '0 8px'}} span={24} md={20} xl={16}>\n          <Card\n            style={{marginBottom: 16}}\n            tabList={tabList}\n            activeTabKey={key}\n            onTabChange={key => setKey(key)}\n          >\n            {contentList[key as keyof typeof contentList]}\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport LocaleProvider from 'antd/lib/locale-provider';\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<LocaleProvider locale={zh_CN}><App /></LocaleProvider>, document.getElementById('root'));\n"],"sourceRoot":""}